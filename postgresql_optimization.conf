# postgresql_optimization.conf
# Оптимизация для проекта "Гид по ДНР"

# Память
shared_buffers = 256MB                    # 25% от общей памяти
effective_cache_size = 1GB                # 50-75% от общей памяти
work_mem = 16MB                          # Память для операций сортировки
maintenance_work_mem = 64MB              # Память для операций обслуживания

# Производительность запросов
random_page_cost = 1.1                   # Для SSD дисков
effective_io_concurrency = 200           # Для SSD дисков

# Журналирование
wal_level = replica
max_wal_size = 1GB
min_wal_size = 80MB

# Соединения
max_connections = 100                    # Максимальное количество соединений

# Автовакуум
autovacuum_naptime = 1min
autovacuum_vacuum_scale_factor = 0.05
autovacuum_analyze_scale_factor = 0.02