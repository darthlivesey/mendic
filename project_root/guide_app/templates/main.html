{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>mentulaDictatura</title>
    <link rel="stylesheet" href="{% static 'main.css' %}">
</head>
<body>
    <div class="wrapper">
        <header>
            <div class="container">
                <nav class="nav">
                    <ul>
                        <li><a href="{% url 'mendic' %}">Главная</a></li>
                        <li><a href="{% url 'registration' %}">Sing up/sing in</a></li>
                        <li><a href="essay2.html">Эссе№2</a></li>
                        <li><a href="essay3.html">Эссе№3</a></li>
                        <li><a href="formule1.html">Формула жизни</a></li>
                        <li><a href="game.html">Игра</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="content">   
            <!-- Карта теперь занимает всю доступную высоту -->
            <div id="map"></div>
            
            <!-- Остальной контент здесь -->
        </div>
    </div>

    <style>
        body {
            background: url("{% static 'bg.png' %}");
        }
    </style>

    <!-- Яндекс Карты API 2.1 -->
    <script src="https://api-maps.yandex.ru/2.1/?apikey=35fbf851-eea3-4819-bf08-558fcbb08e39&lang=ru_RU" type="text/javascript"></script>
    
    <script>
        function initMap() {
            if (typeof ymaps === 'undefined') {
                document.getElementById('map').innerHTML = `
                    <div style="padding: 20px; text-align: center; color: red;">
                        <p>Не удалось загрузить карту</p>
                        <p>Используется статичное изображение</p>
                    </div>
                `;
                return;
            }

            ymaps.ready(function () {
                var myMap = new ymaps.Map('map', {
                    center: [55.733842, 37.588144],
                    zoom: 10
                }, {
                    searchControlProvider: 'yandex#search'
                });

                // Добавляем метку
                var myPlacemark = new ymaps.Placemark([55.733842, 37.588144], {
                    hintContent: 'Москва',
                    balloonContent: 'Столица России'
                });

                myMap.geoObjects.add(myPlacemark);
            });
        }

        document.addEventListener('DOMContentLoaded', initMap);
    </script>
</body>
</html>